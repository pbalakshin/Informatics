\begin{enumerate}
    \item Память состоит из адресуемых ячеек (размером 1 -- 128 бит). Ячейки в основном организованы по 8 бит и свой собственный адрес имеет только каждый восьмой бит.
    \item Ячейки состоят из запоминающих электрических элементов. Это может быть конденсатор, транзистор, попупроводниковый материал и т.п., умеющий хранить два состояния (заряжен или разряжен - конденсатор, находится в проводящем или непроводящем состоянии - транзистор, имеет высокое или низкое удельное сопротивление - попупроводниковый материал). Есть так же элементы, умеющие хранить три состояния, но эти три состояния сложнее считывать.
    \item Электрический элемент может находиться в одном из двух устойчивых состояний (для хранения 1 бита):
          \begin{itemize}[noitemsep]
              \item конденсатор заряжен/разряжен;
              \item транзистор в проводящем/непроводящем состоянии;
              \item полупроводниковый материал имеет высокое/низкое сопротивление.
          \end{itemize}
\end{enumerate}

Одно из таких физических состояний создает высокий уровень выходного напряжения элемента памяти, а другое --- низкий. В элементах памяти ряда микроЭВМ это электрические напряжения порядка 4В и 0В соответственно, причем первое обычно принимается за двоичную единицу, а второе --- за двоичный нуль (возможно и обратное кодирование).

\begin{figure}[!htbp]
    \includegraphics[width=\textwidth]{src/10_memory/10_1.png}
    \caption{TODO: Добавить название}
    \label{fig:todo-name}
\end{figure}

На рисунке~\ref{fig:todo-name} показан выходной сигнал элемента памяти (например, одного разряда регистра) при изменении его состояний (при переключениях) под воздействием некоторого входного сигнала.
Хотя переход от 0 к 1 и от 1 к 0 происходит не мгновенно, однако в определенные моменты времени этот сигнал достигает значений, которые воспринимаются элементами ЭВМ как 0 или 1.
Если сигнал попадает в незаштрихованную область (между 0,5В и 2,5В) то сигнал не распознается.

\textbf{Запоминающим элементом} называется элемент, который способен принимать и хранить код двоичной цифры (исходные значения некоторых величин, промежуточные значения обработки и окончательные результаты вычислений).
Элементы памяти могут запоминать и сохранять исходные значения некоторых величин, промежуточные значения обработки и окончательные результаты вычислений. Только запоминающие элементы в схемах ЭВМ позволяют проводить обработку информации с учетом ее развития.

\textbf{Триггер} --- элементарный цифровой автомат, обладающий способностью длительно находиться в одном из двух устойчивых состояний и чередовать их под воздействием внешних сигналов.
Состояние $0$ на выходе $Q$ соответствует выключенному состоянию, а $Q = 1$ --- включенному.
Триггеры осуществляют запоминание информации и остаются в заданном состоянии после прекращения действия переключающих сигналов.
Они широко применяются широко применяются при цифровой обработке информации.

По способу организации логических связей, определяющие особенности функционирования, различают триггеры:
\begin{itemize}
    \item \textbf{RS-триггер} --- меняет свое состояние в зависимости от того, на какой из входов была подана единица. При подаче сигнала на вход $S$ (\emph{Set}) на выходе устанавливается единица. При подаче сигнала на вход $R$ (\emph{Reset}) сигнал на выходе пропадает.
    \item \textbf{D-триггер} (\emph{Delay} или \emph{Data}) --- запоминает (задерживает) состояние входа на один такт. При кратковременной подаче сигнала на $C$ (\emph{Clock}) (обычно, с тактового генератора), запоминает сигнал на входе $D$ (\emph{Data}) и выдает его на выход до следующей итерации.
    \item \textbf{Т-триггер} (\emph{Toggle}) --- при подаче сигнала на вход, меняет сигнал на выходе на противоположный.
    \item \textbf{JK-триггер} --- аналогичен $RS$-триггеру ($J$ (\emph{Jump}) = $Set$, $K$ (\emph{Kill}) = $Reset$), с одним лишь исключением: при подаче единицы на оба входа, состояние выхода изменяется на противоположное.
\end{itemize}

Из них JK триггер называется универсальным, так как из него можно получить все остальные виды триггеров.

\todo{Выбрать}

\begin{figure}[!htbp]
    \begin{subfigure}{0.49\textwidth}
        \centering
        \includegraphics[height=5cm]{10-rs-trigger-async-nand}
        \caption{На элементах 2И-НЕ}
        \label{fig:rs-trigger-nand}
    \end{subfigure}
    \begin{subfigure}{0.49\textwidth}
        \centering
        \includegraphics[height=5cm]{10-rs-trigger-async-nor}
        \caption{На элементах 2ИЛИ-НЕ}
        \label{fig:rs-trigger-nor}
    \end{subfigure}

    \caption{Асинхронный RS-триггер (IEC)}
    \label{fig:rs-trigger}
\end{figure}

\begin{figure}[!htbp]
    \begin{minipage}{0.48\textwidth}
        \centering
        \includegraphics[height=5cm]{10-rs-trigger-async-nand}
        \caption{Асинхронный RS-триггер на элементах 2И-НЕ (IEC)}
        \label{fig:rs-trigger-nand1}
    \end{minipage}\hfill
    \begin{minipage}{0.48\textwidth}
        \centering
        \includegraphics[height=5cm]{10-rs-trigger-async-nor}
        \caption{Асинхронный RS-триггер на элементах 2ИЛИ-НЕ (IEC)}
        \label{fig:rs-trigger-nor1}
    \end{minipage}
\end{figure}

\textbf{Регистры} --- это узлы ЭВМ, служащие для хранения информации в виде машинных слов или его частей, а так же для выполнения над словами некоторых логических преобразований.
Регистры способны выполнять следующие операции:
\begin{itemize}[noitemsep]
    \item установка регистра в состояние 0 или 1 (на всех выходах);
    \item прием и хранение в регистре n разрядного слова;
    \item сдвиг хранимого в регистре двоичного кода слова вправо или влево на заданное значение разрядов;
    \item преобразование кода хранимого слова в последовательный, и наоборот, при приеме или при выдачи двоичных данных;
    \item поразрядные логические операции.
\end{itemize}

\textbf{Счетчики} --- узлы ЭВМ, которые осуществляют счет и хранение кода числа подсчитанных сигналов.
Они представляют собой цифровые автоматы Мура, в которых новое состояние счетчика определяется его предыдущим состоянием и состоянием логической переменной на входе.

Внутреннее состояние счетчиков характеризуется коэффициентом пересчета К, определяющим число его устойчивых состояний. Основными параметрами являются разрешающая способность (минимальное время между двумя сигналами, которые надежно фиксируются) или максимальное быстродействие и информационная емкость.

\textbf{Дешифратор (избирательная схема)} --- это узел ЭВМ, в котором каждой комбинации входных сигналов соответствует наличие сигнала на одной вполне определенной шине на выходе (комбинационное устройство). Дешифраторы широко используются для преобразования двоичных кодов в управляющие сигналы для различных устройств ЭВМ.

\textbf{Шифратор (кодер)} --- это узел ЭВМ, преобразующий унитарный код в некоторый позиционный код. Если выходной код является двоичным позиционным, то шифратор называется двоичным. С помощью шифраторов возможно преобразование цифр десятичных чисел в двоичное представление с использованием любого другого двоично-десятичного кода.

\textbf{Преобразователи кодов} --- это узлы ЭВМ, предназначенные для кодирования чисел.
В число преобразователей кодов входят: двоично-десятичные преобразователи, преобразователи цифровой индикации, преобразователи прямого кода двоичных чисел в обратный или дополнительный код и т.д.

\textbf{Мультиплексоры} --- это узлы, преобразующие параллельные цифровые коды в последовательные.
В этом устройстве выход соединяется с одним из входов в зависимости от значения адресных входов.
Мультиплексоры широко используются для синтеза комбинационных устройств, так как это способствует значительному уменьшению числа используемых микросхем.

\textbf{Демультиплексоры} --- это узлы, преобразующие информацию из последовательной формы в параллельную.
Информационный вход D подключается к одному из выходов Qi определяемый адресными сигналами A0 и A1.

\begin{figure}[H]
    \begin{minipage}[b]{0.49\textwidth}
        \centering
        \includegraphics[scale=1.2]{10-multiplexer}
        \caption{Мультиплексор}
        \label{fig:multiplexer}
    \end{minipage}
    \hfill
    \begin{minipage}[b]{0.49\textwidth}
        \centering
        \includegraphics[scale=1.2]{10-demultiplexer}
        \caption{Демультиплексор}
        \label{fig:demultiplexer}
    \end{minipage}
\end{figure}

\textbf{Сумматор} --- это узел, в котором выполняется арифметическая операция суммирования цифровых кодов двух двоичных чисел. Используя одноразрядные сумматоры можно построить многоразрядные сумматоры.

\textbf{Шина} --- набор коммуникационных линий, каждая из которых способная передавать сигналы, представляющие двоичные цифры 0 и 1.

Электрическая цепь, соединяющая регистр с другим регистром или иным устройством ЭВМ, называется \textbf{шиной (bus)}.
\emph{Шина} состоит из параллельных проводов, каждый из которых предназначен для передачи соответствующего бита регистра.
Два 8-битовых регистра соединяются между собой шиной из восьми проводов.
Про такую шину говорят, что ее ширина равна 8.
В действительности шина обычно содержит несколько дополнительных проводов, используемых для передачи сигналов синхронизации и управления, однако подобный анализ структуры шин нас пока не интересует.

\subsection{Характеристики систем памяти}
\begin{enumerate}
    \item \textbf{Место расположения:}
          \begin{itemize}
              \item \emph{Процессорная}, то есть на общем кристалле с центральным процессором (ЦП) (регистры, кэш-память 1-го уровня);
              \item \emph{Внутренняя}, то есть на системной плате (основная память (ОП), кэш-память 2-го и последующего уровней);
              \item \emph{Внешняя} (медленные запоминающие устройства (ЗУ) большой ёмкости).
          \end{itemize}
    \item \textbf{Емкость ЗУ} --- число бит/байт, которое можно хранить на ЗУ.
    \item \textbf{Единица пересылки.} Для ОП единица пересылки определяется шириной шины данных, то есть количество бит, передаваемых по линиям шины параллельно. Обычно равна длине слова.
    \item \textbf{Метод доступа к данным:}
          \begin{itemize}
              \item \emph{Последовательный доступ} --- ЗУ ориентировано на хранение информации в виде последовательности блоков, называемых записями. Для доступа к нужному элементу необходимо прочитать все предшествующие блоки (ЗУ на магнитной ленте);
              \item \emph{Прямой доступ} --- каждая запись имеет уникальный адрес, отражающий ее физическое размещение на носителе информации. Обращение определяется как адресный доступ к началу записи плюс последующий последовательный доступ к определённой информации внутри записи (магнитные диски);
              \item \emph{Произвольный доступ} --- каждая ячейка памяти имеет уникальный физический адрес. Обращение к любой ячейке занимает одно и то же время и может водиться в произвольной очередности (ОП);
              \item \emph{Ассоциативный доступ} --- позволяет выполнять поиск ячеек, содержащих такую информацию, в которой значение отдельных бит совпадает с состоянием одноименных битов в заданном образце. Сравнение осуществляется параллельно для всех ячеек памяти, независимо от ее емкости (кэш-память).
          \end{itemize}
    \item \textbf{Быстродействие} --- один из важнейших показателей:
          \begin{itemize}
              \item \emph{Время доступа ($\mbox{Т}_{\mbox{д}}$)} --- интервал времени от момента поступления адреса до момента, когда данные заносятся в память или становятся доступными.
              \item \emph{Длительность цикла памяти или период обращения ($\mbox{Т}_{\mbox{ц}}$)} --- понятие применяется к памяти с произвольным доступом, для которой оно означает минимальное время между двумя последовательными обращениями к памяти. Период обращения включает в себя время доступа плюс некоторое дополнительное время.
              \item \emph{Скорость передачи} --- скорость, с которой данные могут передаваться в память или из нее.
          \end{itemize}
    \item \textbf{Физический тип}
          \begin{itemize}
              \item Полупроводниковая память;
              \item Память с магнитным носителем информации (используемая в магнитных лентах и дисках);
              \item Память с оптическим носителем (оптические диски);
          \end{itemize}
    \item \textbf{Физические особенности} (например, энергозависимость).
    \item \textbf{Стоимость} --- стоимость хранения одного бита информации.
\end{enumerate}

\subsection{Иерархия памяти}
\begin{wrapfigure}[5]{l}{4cm}
    \includegraphics[width=2.8cm]{src/10_memory/10_6.jpg}
\end{wrapfigure}

Чем меньше время доступа, тем выше стоимость хранения бита. Чем больше емкость, тем ниже стоимость хранения бита, но больше время доступа.

\subsection{Физическое устройство памяти}
\subsubsection{Кэш-память}
\begin{wrapfigure}[11]{l}{9cm}
    \includegraphics[width=8cm]{src/10_memory/10_7.jpg}
\end{wrapfigure}
Рассмотрим биполярный \emph{n-p-n} транзистор: К-коллектор, Б-база, Э-эмиттер.
На коллектор подано напряжение.
Если на базу подать напряжение --- транзистор откроется и ток с коллектора пойдет на эмиттер.

Небольшая особенность --- напряжение на базе должно быть выше, чем на коллекторе (на сколько --- зависит от конкретного транзистора, обычно немного. Например, 5В на коллекторе, 6В на базе).

Теперь рассмотрим следующую схему:

\begin{minipage}[l]{0.35\textwidth}
    \includegraphics[width=\linewidth]{src/10_memory/10_8.jpg}
\end{minipage}
\begin{minipage}[l]{0.65\textwidth}
    $V_{CC}$ --- линия питания устройства (например 5В). \\
    $GND$ --- линия 0В.

    Если оба транзистора закрыты (на базу не подается напряжение, $V_1$ и $V_2$ равны 0), то ток уходит напрямую с $V_{CC}$ на $V_{OUT}$. В результате получается логическая единица.

    Если подать напряжение хотя бы на один транзистор ($V_1$ или $V_2$), то ток с $V_{CC}$ будет уходить через транзистор в $GND$ и в $V_{OUT}$ не пойдет. В результате получается логический нуль.
\end{minipage}

Так как напряжение на базе должно быть выше, чем на коллекторе (в данном случае, на линии питания $V_{CC}$), а повышенное взять неоткуда, то имеющееся напряжение на $V_{CC}$ занижается с помощью резистора и получается 5В на базе и чуть меньше на коллекторе.

Получается, что данная схема реализует логическую функцию ИЛИ-НЕ (ANSI) (также известную как стрелка Пирса) (где $A$ и $B$ соответственно $V_1$ и $V_2$):

\begin{figure}[H]
    \includegraphics{logic_gates/ansi-nor}
\end{figure}

\todo{Выбрать}

\noindent
\begin{minipage}[t]{0.73\textwidth}
    \vspace{0pt}
    Получается, что данная схема реализует логическую функцию ИЛИ-НЕ (ANSI) (также известную как стрелка Пирса) (где $A$ и $B$ соответственно $V_1$ и $V_2$), которая представлена на рисунке~\ref{fig:nor-ansi}
\end{minipage}
\hfill
\begin{minipage}[t]{0.25\textwidth}
    \vspace{0pt}
    \centering
    \includegraphics{logic_gates/ansi-nor}
    \captionof{figure}{ИЛИ-НЕ (ANSI)\label{fig:nor-ansi}}
\end{minipage}

\bigskip
Таблица истинности для ИЛИ-НЕ:
\begin{table}[H]
    \centering
    \begin{tabular}{|c|c|c|}
        \hline
        A & B & X \\
        \hline
        0 & 0 & 1 \\
        0 & 1 & 0 \\
        1 & 0 & 0 \\
        1 & 1 & 0 \\
        \hline
    \end{tabular}
\end{table}

Объединим два элемента ИЛИ-НЕ обратной связью.

\begin{wrapfigure}{l}{0.25\textwidth}
    \centering
    % \vspace{-\intextsep}
    \includegraphics[width=0.25\textwidth]{10.3-rs-trigger}
    \caption{RS-триггер (ANSI)}
    \label{fig:rs-trigger-nor-ansi}
\end{wrapfigure}

Выход одного элемента ИЛИ-НЕ поступает на вход другого.
Получилась самая простая память для хранения 1 бита, использующая 4 транзистора. \\
В данном случае, изображен асинхронный RS-триггер (изображен на рисунке \ref{fig:rs-trigger-nor-ansi}).
Также, память может состоять и из других триггеров.

При подаче единицы на вход $S$ выходное состояние становится равным логической единице.
А при подаче единицы на вход $R$ выходное состояние становится равным логическому нулю.
Если на оба входа $R$ и $S$ одновременно поданы логические единицы, оба выхода переходят в состояние логического нуля, которое является неустойчивым и переходит в одно из устойчивых состояний при снятии управляющего сигнала с одного из входов, иначе говоря, в ячейку может записаться любое значение.
